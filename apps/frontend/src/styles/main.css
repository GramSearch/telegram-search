html,
body,
#app {
  height: 100%;
  margin: 0;
  padding: 0;
}

html.dark {
  background: #121212;
}

:root {
  --theme-transition-duration: 0.4s;
  --theme-transition-timing: cubic-bezier(0.4, 0, 0.2, 1);
}

/* View Transitions API 基础设置 */
::view-transition-old(root),
::view-transition-new(root) {
  animation: none;
  mix-blend-mode: normal;
}

/* 控制明暗模式切换时的图层顺序 */
::view-transition-old(root) {
  z-index: 1;
}

::view-transition-new(root) {
  z-index: 2147483646; /* 最大 z-index 值 */
}

/* 暗色模式下反转图层顺序 */
html.dark::view-transition-old(root) {
  z-index: 2147483646;
}

html.dark::view-transition-new(root) {
  z-index: 1;
}

/* 优化动画性能 */
::view-transition-old(root),
::view-transition-new(root) {
  will-change: transform;
  /* 确保动画期间内容不会被裁切 */
  contain: paint;
}

/* 添加全局颜色过渡动画 */
*,
::before,
::after {
  transition:
    border-color var(--theme-transition-duration) var(--theme-transition-timing),
    background-color var(--theme-transition-duration) var(--theme-transition-timing),
    color var(--theme-transition-duration) var(--theme-transition-timing),
    fill var(--theme-transition-duration) var(--theme-transition-timing),
    stroke var(--theme-transition-duration) var(--theme-transition-timing),
    opacity var(--theme-transition-duration) var(--theme-transition-timing),
    box-shadow var(--theme-transition-duration) var(--theme-transition-timing),
    transform var(--theme-transition-duration) var(--theme-transition-timing);
}

/* 使用 GPU 加速优化性能 */
.transform-gpu {
  transform: translateZ(0);
  backface-visibility: hidden;
  perspective: 1000px;
  will-change: transform;
}

/* 确保动画在暗色模式下正常工作 */
:root[class~='dark'] {
  color-scheme: dark;
}

/* 主题切换相关 */
:root[data-theme='default'] {
  --c-background: oklch(1 0 0);
  --c-foreground: oklch(0.141 0.005 285.823);
  --c-card: oklch(1 0 0);
  --c-card-foreground: oklch(0.141 0.005 285.823);
  --c-popover: oklch(1 0 0);
  --c-popover-foreground: oklch(0.141 0.005 285.823);
  --c-primary: oklch(0.623 0.214 259.815);
  --c-primary-foreground: oklch(0.97 0.014 254.604);
  --c-secondary: oklch(0.967 0.001 286.375);
  --c-secondary-foreground: oklch(0.21 0.006 285.885);
  --c-muted: oklch(0.967 0.001 286.375);
  --c-muted-foreground: oklch(0.552 0.016 285.938);
}

:root[data-theme='monet'] {
  --c-background: oklch(0.98 0.03 120);
  --c-foreground: oklch(0.32 0.04 260);
  --c-card: oklch(0.96 0.02 140);
  --c-card-foreground: oklch(0.32 0.04 260);
  --c-popover: oklch(0.98 0.03 120);
  --c-popover-foreground: oklch(0.32 0.04 260);
  --c-primary: oklch(0.75 0.13 210);
  --c-primary-foreground: oklch(0.98 0.03 120);
  --c-secondary: oklch(0.92 0.04 140);
  --c-secondary-foreground: oklch(0.32 0.04 260);
  --c-muted: oklch(0.95 0.01 120);
  --c-muted-foreground: oklch(0.55 0.01 260);
}

:root[data-theme='orange'] {
  --c-background: oklch(0.985 0.015 60);
  --c-foreground: oklch(0.2 0.03 60);
  --c-card: oklch(1 0 0);
  --c-card-foreground: oklch(0.2 0.03 60);
  --c-popover: oklch(1 0 0);
  --c-popover-foreground: oklch(0.2 0.03 60);
  --c-primary: oklch(0.7 0.18 55);
  --c-primary-foreground: oklch(0.99 0.01 55);
  --c-secondary: oklch(0.95 0.06 60);
  --c-secondary-foreground: oklch(0.4 0.08 55);
  --c-muted: oklch(0.95 0.03 60);
  --c-muted-foreground: oklch(0.55 0.04 60);
}

:root[data-theme='green'] {
  --c-background: oklch(0.99 0.01 145);
  --c-foreground: oklch(0.18 0.03 145);
  --c-card: oklch(1 0 0);
  --c-card-foreground: oklch(0.18 0.03 145);
  --c-popover: oklch(1 0 0);
  --c-popover-foreground: oklch(0.18 0.03 145);
  --c-primary: oklch(0.65 0.16 145);
  --c-primary-foreground: oklch(0.99 0.01 145);
  --c-secondary: oklch(0.94 0.05 145);
  --c-secondary-foreground: oklch(0.3 0.07 145);
  --c-muted: oklch(0.96 0.02 145);
  --c-muted-foreground: oklch(0.55 0.03 145);
}

:root[data-theme='light-blue'] {
  --c-background: oklch(0.99 0.006 260);
  --c-foreground: oklch(0.22 0.025 260);
  --c-card: oklch(1 0 0);
  --c-card-foreground: oklch(0.22 0.025 260);
  --c-popover: oklch(1 0 0);
  --c-popover-foreground: oklch(0.22 0.025 260);
  --c-primary: oklch(0.75 0.12 260);
  --c-primary-foreground: oklch(0.15 0.04 260);
  --c-secondary: oklch(0.92 0.05 260);
  --c-secondary-foreground: oklch(0.4 0.07 260);
  --c-muted: oklch(0.96 0.018 260);
  --c-muted-foreground: oklch(0.55 0.025 260);
}

/* 暗色模式下的主题 */
.dark[data-theme='default'] {
  --c-background: oklch(0.141 0.005 285.823);
  --c-foreground: oklch(0.985 0 0);
  --c-card: oklch(0.21 0.006 285.885);
  --c-card-foreground: oklch(0.985 0 0);
  --c-popover: oklch(0.21 0.006 285.885);
  --c-popover-foreground: oklch(0.985 0 0);
  --c-primary: oklch(0.546 0.245 262.881);
  --c-primary-foreground: oklch(0.379 0.146 265.522);
  --c-secondary: oklch(0.274 0.006 286.033);
  --c-secondary-foreground: oklch(0.985 0 0);
  --c-muted: oklch(0.274 0.006 286.033);
  --c-muted-foreground: oklch(0.705 0.015 286.067);
}

.dark[data-theme='monet'] {
  --c-background: oklch(0.22 0.03 260);
  --c-foreground: oklch(0.95 0.02 120);
  --c-card: oklch(0.28 0.04 210);
  --c-card-foreground: oklch(0.95 0.02 120);
  --c-popover: oklch(0.28 0.04 210);
  --c-popover-foreground: oklch(0.95 0.02 120);
  --c-primary: oklch(0.55 0.13 210);
  --c-primary-foreground: oklch(0.22 0.03 260);
  --c-secondary: oklch(0.38 0.04 140);
  --c-secondary-foreground: oklch(0.95 0.02 120);
  --c-muted: oklch(0.28 0.01 260);
  --c-muted-foreground: oklch(0.75 0.01 120);
}

.dark[data-theme='orange'] {
  --c-background: oklch(0.2 0.02 60);
  --c-foreground: oklch(0.97 0.015 60);
  --c-card: oklch(0.25 0.03 60);
  --c-card-foreground: oklch(0.97 0.015 60);
  --c-popover: oklch(0.25 0.03 60);
  --c-popover-foreground: oklch(0.97 0.015 60);
  --c-primary: oklch(0.75 0.19 55);
  --c-primary-foreground: oklch(0.25 0.04 55);
  --c-secondary: oklch(0.35 0.06 60);
  --c-secondary-foreground: oklch(0.97 0.015 60);
  --c-muted: oklch(0.3 0.03 60);
  --c-muted-foreground: oklch(0.65 0.03 60);
}

.dark[data-theme='green'] {
  --c-background: oklch(0.2 0.025 145);
  --c-foreground: oklch(0.97 0.015 145);
  --c-card: oklch(0.25 0.035 145);
  --c-card-foreground: oklch(0.97 0.015 145);
  --c-popover: oklch(0.25 0.035 145);
  --c-popover-foreground: oklch(0.97 0.015 145);
  --c-primary: oklch(0.7 0.17 145);
  --c-primary-foreground: oklch(0.15 0.03 145);
  --c-secondary: oklch(0.38 0.06 145);
  --c-secondary-foreground: oklch(0.97 0.015 145);
  --c-muted: oklch(0.3 0.03 145);
  --c-muted-foreground: oklch(0.65 0.03 145);
}

.dark[data-theme='light-blue'] {
  --c-background: oklch(0.18 0.025 260);
  --c-foreground: oklch(0.97 0.012 260);
  --c-card: oklch(0.23 0.035 260);
  --c-card-foreground: oklch(0.97 0.012 260);
  --c-popover: oklch(0.23 0.035 260);
  --c-popover-foreground: oklch(0.97 0.012 260);
  --c-primary: oklch(0.7 0.14 260);
  --c-primary-foreground: oklch(0.15 0.05 260);
  --c-secondary: oklch(0.38 0.06 260);
  --c-secondary-foreground: oklch(0.97 0.012 260);
  --c-muted: oklch(0.3 0.03 260);
  --c-muted-foreground: oklch(0.65 0.025 260);
}
